{% extends 'base.twig' %}

{% block content %}
<div class="m-auto w-8/12 md:w-6/12">
    {% include 'partials/page-message.twig' %}

    <h1 class="text-3xl mb-4">{{ jobPostings.title }}</h1>

    <div>
        <div>
            <h3 class="text-2xl mb-4">Job Details:</h3>
            <p class="mb-2">Location: {{ jobPostings.location }}</p>
            <p class="mb-2">Start Date: {{ jobPostings.startDate | date('F d, Y') }}</p>
            <p class="mb-2">Contact Email: <a href="mailto:{{ jobPostings.contactEmail }}" class="text-blue-500 hover:underline">{{ jobPostings.contactEmail }}</a></p>
            <p>{{ jobPostings.description }}</p>
        </div>
        <h4 class="text-2xl mb-4">Apply for this job</h4>

        <form action="/apply" method="POST" enctype="multipart/form-data">
            <div class="mb-4">
                <label for="name" class="block text-gray-700 text-sm font-bold mb-2">Your Name</label>
                <input type="text" id="name" name="name" value="{{ getField('name') }}"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                <span class="text-red-500">
                    {{ getErrorMessage('name') }}
                </span>
            </div>

            <div class="mb-4">
                <label for="email" class="block text-gray-700 text-sm font-bold mb-2">Your Email</label>
                <input type="email" id="email" name="email" value="{{ getField('email') }}"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                <span class="text-red-500">
                    {{ getErrorMessage('email') }}
                </span>
            </div>

            <div class="mb-4">
                <label for="resume" class="block text-gray-700 text-sm font-bold mb-2">Upload Your Resume</label>
                <input type="file" id="resume" name="resume" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                <span class="text-red-500">
                    {{ getErrorMessage('resume') }}
                </span>
            </div>

            <div class="mb-4">
                <button type="submit"
                    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Apply</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
